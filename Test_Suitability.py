"""
Author:Zhuangfang Yi, contact me:zfyi@mortonarb.org, and here: http://geoyi.org
"""

# Import arcpy module
import arcpy
import os

#Working directory
arcpy.CheckOutExtension("Spatial")
 
in_path = "C:\GIS\Postdoc GIS with The Morton Arboretum\PythonCodeWorkSpace"
arcpy.env.workspace = in_path
arcpy.env.overwriteOutput = True
 
out_path = "C:\GIS\Postdoc GIS with The Morton Arboretum\PythonCodeWorkSpace\Outputs"
 
models = arcpy.ListFiles("*")

# Check out any necessary licenses
arcpy.CheckOutExtension("spatial")


# Local variables:
HistoricalSuitability_tif = "HistoricalSuitability.tif"
Asian_Countries_shp = "Asian_Countries.shp"
acc_50k1_tif = "acc_50k1.tif"

#Outputs
suitasia1 = "suitasia1"
SuitaAsia100 = "SuitaAsia100"
Suita100In = "Suita100In"
Suitablility100_shp = "Suitablility100.shp"
Acc50kAsia = "Acc50kAsia"
AccessibilityTo50kAsia_shp = "AccessibilityTo50kAsia.shp"

# Process: Extract by Mask
arcpy.gp.ExtractByMask_sa(HistoricalSuitability_tif, Asian_Countries_shp, suitasia1)

# Process: Raster Calculator
arcpy.gp.RasterCalculator_sa("\"%suitasia1%\" * 100", SuitaAsia100)

# Process: Int
arcpy.gp.Int_sa(SuitaAsia100, Suita100In)

# Process: Raster to Polygon
arcpy.RasterToPolygon_conversion(Suita100In, Suitablility100_shp, "SIMPLIFY", "VALUE")

# Process: Extract by Mask (2)
arcpy.gp.ExtractByMask_sa(acc_50k1_tif, Asian_Countries_shp, Acc50kAsia)

# Process: Raster to Polygon (2)
arcpy.RasterToPolygon_conversion(Acc50kAsia, AccessibilityTo50kAsia_shp, "SIMPLIFY", "VALUE")

# I uploaded converted shp. files from above to ArcMap for mannually spatial join the field to Rubber_Counties 
#Still have not figured out why the python coded still don't work for spatial join (join value by the locations)


